[TOC]



# 通用：

**响应状态**:code


| 状态码 | 说明         | schema        |
| ------ | ------------ | ------------- |
| 200    | OK           | ResultMessage |
| 401    | Unauthorized |               |
| 403    | Forbidden    |               |
| 404    | Not Found    |               |

**响应参数**:


| 参数名称  | 参数说明 | 类型           | schema         |
| --------- | -------- | -------------- | -------------- |
| code      |          | integer(int32) | integer(int32) |
| message   |          | string         |                |
| result    |          | object         |                |
| success   |          | boolean        |                |
| timestamp |          | integer(int64) | integer(int64) |

**响应示例**:

```javascript
{
	"code": 0,
	"message": "",
	"result": {},
	"success": true,
	"timestamp": 0
}
```



## 获取商品分页列表


**接口地址**:`/buyer/goods/goods`


**请求方式**:`GET`

**请求数据类型**:`application/x-www-form-urlencoded`


| 参数名称     | 参数说明          | 请求类型 | 是否必须 | 数据类型       | schema |
| ------------ | ----------------- | -------- | -------- | -------------- | ------ |
| categoryPath | 分类path          | query    | false    | string         |        |
| geQuantity   | 库存数量          | query    | false    | integer(int32) |        |
| goodsId      | 商品编号          | query    | false    | string         |        |
| goodsName    | 商品名称          | query    | false    | string         |        |
| id           | 商品编号          | query    | false    | string         |        |
| order        | 排序方式 asc/desc | query    | false    | string         |        |
| pageNumber   | 页号              | query    | false    | integer(int32) |        |
| pageSize     | 页面大小          | query    | false    | integer(int32) |        |
| sort         | 排序字段          | query    | false    | string         |        |



价格排序（sort:price,order:排序方式 asc/desc)
销量排序（sort:buyCount,order:排序方式 asc/desc)

## 获取首页商品（优选和首页商品）

**接口地址**:`/buyer/goods/goods/getHome`

**请求方式**:`GET`



## 通过id获取商品信息


**接口地址**:`/buyer/goods/goods/get/{goodsId}`


**请求方式**:`GET`

**请求数据类型**:`application/x-www-form-urlencoded`


| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型       | schema |
| -------- | -------- | -------- | -------- | -------------- | ------ |
| goodsId  | 商品ID   | path     | true     | integer(int64) |        |



## 通过id获取商品信息根据skuID获取sku信息


**接口地址**:`/buyer/goods/goods/sku/{goodsId}/{skuId}`


**请求方式**:`GET`

**请求数据类型**:`application/x-www-form-urlencoded`


| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| goodsId  | 商品ID   | path     | true     | string   |        |
| skuId    | skuId    | path     | true     | string   |        |






## 获取商品分类列表


**接口地址**:`/buyer/goods/category/get/{parentId}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`

**响应数据类型**:`*/*`

**请求参数**:


| 参数名称 | 参数说明                  | 请求类型 | 是否必须 | 数据类型       | schema |
| -------- | ------------------------- | -------- | -------- | -------------- | ------ |
| parentId | 上级分类ID，全部分类为：0 | path     | true     | integer(int64) |        |

```
{
  "success": true,
  "message": "success",
  "code": 200,
  "timestamp": 1654957759498,
  "result": [
    {
      "id": "1348576427264204941",
      "createBy": null,
      "createTime": "2021-01-11 18:24:10",
      "updateBy": "admin",
      "updateTime": "2021-08-12 00:09:16",
      "deleteFlag": false,
      "name": "数码办公",
      "parentId": "0",
      "level": 0,
      "sortOrder": 1,
      "commissionRate": 3,
      "image": "https://lilishop-oss.oss-cn-beijing.aliyuncs.com/3f26aec6ce4b4b2f9201b5f56111cafe.png",
      "supportChannel": false,
      "parentTitle": null,
      "children": []
    },
    {
      "id": "1422529040389242881",
      "createBy": "admin",
      "createTime": "2021-08-03 20:05:27",
      "updateBy": null,
      "updateTime": null,
      "deleteFlag": false,
      "name": "招商代理",
      "parentId": "0",
      "level": 0,
      "sortOrder": 1,
      "commissionRate": 5,
      "image": "https://lilishop-oss.oss-cn-beijing.aliyuncs.com/947c35f82675449fae16529edd892a62.jpg",
      "supportChannel": null,
      "parentTitle": null,
      "children": []
    }
  ]
}
```



## 获取会员收件地址分页列表

**接口地址**:`/buyer/user/address`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


**请求参数**:


| 参数名称   | 参数说明          | 请求类型 | 是否必须 | 数据类型       | schema |
| ---------- | ----------------- | -------- | -------- | -------------- | ------ |
| order      | 排序方式 asc/desc | query    | false    | string         |        |
| pageNumber | 页号              | query    | false    | integer(int32) |        |
| pageSize   | 页面大小          | query    | false    | integer(int32) |        |
| sort       | 排序字段          | query    | false    | string         |        |



## 新增收件地址、编辑收件地址带上ID


**接口地址**:`/buyer/user/address`


**请求方式**:`POST`


**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


**请求参数**:


| 参数名称               | 参数说明            | 请求类型 | 是否必须 | 数据类型 | schema |
| ---------------------- | ------------------- | -------- | -------- | -------- | ------ |
| alias                  | 地址别名            | query    | false    | string   |        |
| consigneeAddressIdPath | 地址id，'，'分割    | query    | false    | string   |        |
| consigneeAddressPath   | 地址名称， '，'分割 | query    | false    | string   |        |
| detail                 | 详细地址            | query    | false    | string   |        |
| isDefault              | 是否为默认收货地址  | query    | false    | boolean  |        |
| lat                    | 纬度                | query    | false    | string   |        |
| lon                    | 经度                | query    | false    | string   |        |
| mobile                 | 手机号码            | query    | false    | string   |        |
| name                   | 收货人姓名          | query    | false    | string   |        |


**响应状态**:


| 状态码 | 说明         | schema        |
| ------ | ------------ | ------------- |
| 200    | OK           | ResultMessage |
| 201    | Created      |               |
| 401    | Unauthorized |               |
| 403    | Forbidden    |               |
| 404    | Not Found    |               |


**响应参数**:


| 参数名称  | 参数说明 | 类型           | schema         |
| --------- | -------- | -------------- | -------------- |
| code      |          | integer(int32) | integer(int32) |
| message   |          | string         |                |
| result    |          | object         |                |
| success   |          | boolean        |                |
| timestamp |          | integer(int64) | integer(int64) |


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"result": {},
	"success": true,
	"timestamp": 0
}
```

## 删除收件地址

**接口地址**:`/buyer/user/address/delById/{id}`

**请求方式**:`DELETE`


**请求数据类型**:`application/x-www-form-urlencoded`

**响应数据类型**:`*/*`


**请求参数**:


| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| id       | 地址ID   | path     | false    | string   |        |

## 获取当前默认收件地址


**接口地址**:`/buyer/user/address/get/default`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`




## 根据ID获取收件地址


**接口地址**:`/buyer/user/address/get/{id}`

**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`

**接口描述**:


**请求参数**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型 | 是否必须 | 数据类型 | schema |
| -------- | -------- | -------- | -------- | -------- | ------ |
| id       | 地址ID   | path     | false    | string   | *      |





## 支付


**接口地址**:`/buyer/payment/cashier/pay/{paymentMethod}/{paymentClient}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`

**响应数据类型**:`*/*`


| 参数名称      | 参数说明                               | 请求类型 | 是否必须 | 数据类型 | schema |
| ------------- | -------------------------------------- | -------- | -------- | -------- | ------ |
| clientType    | 客户端类型                             | query    | false    | string   |        |
| orderType     | 交易类型,可用值:TRADE,ORDER,RECHARGE   | query    | false    | string   |        |
| paymentClient | 调起方式,可用值:APP,NATIVE,JSAPI,H5,MP | path     | false    | string   |        |
| paymentMethod | 支付方式,可用值:WECHAT,ALIPAY          | path     | false    | string   |        |
| sn            | 订单号                                 | query    | false    | string   |        |

## 查询支付结果


**接口地址**:`/buyer/payment/cashier/result`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`

**响应数据类型**:`*/*`


| 参数名称   | 参数说明                             | 请求类型 | 是否必须 | 数据类型 | schema |
| ---------- | ------------------------------------ | -------- | -------- | -------- | ------ |
| clientType | 客户端类型                           | query    | false    | string   |        |
| orderType  | 交易类型,可用值:TRADE,ORDER,RECHARGE | query    | false    | string   |        |
| sn         | 订单号                               | query    | false    | string   |        |




## 

## 查询订单

**接口地址**:`/buyer/order/order`

**请求方式**:`GET`

**请求数据类型**:`application/json`


**响应数据类型**:`*/*`


| 参数名称   | 参数说明                                                     | 请求类型 | 是否必须 | 数据类型       | schema  |
| ---------- | ------------------------------------------------------------ | -------- | -------- | -------------- | ------- |
| tag        | 状态类型 <br />LL:全部,WAIT_PAY:待付款,WAIT_ROG:待收货,CANCELLED:已取消,COMPLETE:已完成 | query    | false    | string         | 默认all |
| pageNumber | 页号                                                         | query    | false    | integer(int32) |         |
| pageSize   | 页面大小                                                     | query    | false    | integer(int32) |         |

## 根据订单ID查询详情

**接口地址**:`/buyer/order/order`/{订单ID}

**请求方式**:`GET`



## 取消订单、确认、

**接口地址**:/buyer/order/order/{订单ID}/cancel

**请求方式**:`POST`



## 获取用户信息

**接口地址**:/buyer/passport/user

**请求方式**:GET

```
{
    "success": true,
    "message": "success",
    "code": 200,
    "timestamp": 1655023000715,
    "result": {
        "id": "22", //用户ID
        "username": "15871471614", //用户名
        "nick": null, //用户昵称
        "sex": 0,// 0 未设置 1男 2女
        "phone": "15871471614", //手机号
        "integralMall": null, //商城积分
        "using": 22726, //我的余额
        "avatarUrl": null, //头像url
        "createTime": "2022-03-29 18:15:23" //注册时间
    }
}
```



## 编辑用户信息

**接口地址**:/buyer/passport/user/editOwn

**请求方式**:PUT

**响应数据类型**:`*/*`


| 参数名称  | 参数说明 | 请求类型 | 数据类型 |
| --------- | -------- | -------- | -------- |
| avatarUrl | 头像url  | query    | string   |
| userNick  | 用户昵称 | query    | string   |



## 立刻购买

**接口地址**:/buyer/trade/carts

**请求方式**:POST

**响应数据类型**:`*/*`


| 参数名称 | 参数说明           | 请求类型 | 数据类型 |
| -------- | ------------------ | -------- | -------- |
| cartType | BUY_NOW (立刻购买) | query    | string   |
| num      | 数量               | query    | int      |
| skuId    | 商品规格ID         |          | string   |



## 选择收货地址

**接口地址**:/buyer/trade/carts/shippingAddress?shippingAddressId=地址ID&way=BUY_NO

**请求方式**:GET

**响应数据类型**:`*/*`


| 参数名称          | 参数说明           | 请求类型 | 数据类型 |
| ----------------- | ------------------ | -------- | -------- |
| way               | BUY_NOW (立刻购买) | query    | string   |
| shippingAddressId | 地址ID             | query    | int      |



```

```

## 获取结算页面购物车详情

**接口地址**:/buyer/trade/carts/checked

**请求方式**:GET

**响应数据类型**:`*/*`


| 参数名称 | 参数说明           | 请求类型 | 数据类型 |
| -------- | ------------------ | -------- | -------- |
| **way**  | BUY_NOW (立刻购买) | query    | string   |

## 创建交易

**接口地址**:/buyer/trade/carts/create/trade

**请求方式**:POST

**响应数据类型**:`*/*`


| 参数名称 | 参数说明           | 请求类型 | 数据类型 |
| -------- | ------------------ | -------- | -------- |
| **way**  | BUY_NOW (立刻购买) | query    | string   |



## 地址信息接口

```
根据名字获取地区地址id
```

**接口地址**:/common/common/region/{name}

**请求方式**:GET

**响应数据类型**:`*/*`



### 通过id获取子地区

**接口地址**:/common/common/region/item/{id}

**请求方式**:GET

**响应数据类型**:`*/*`



### 获取所有的省-市

**接口地址**:/common/common/region/allCity

**请求方式**:GET

**响应数据类型**:`*/*`



### 获取服务协议

**接口地址**:/buyer/other/article/get/USER_AGREEMENT

**请求方式**:GET

**响应数据类型**:`*/*`





以下先不管：

```:
paymentMethod:WALLET,WALLETPOINT
```

```
buyer/payment/cashier/pay/paymentMethod
```

支付
https://buyer-api.pickmall.cn/buyer/payment/cashier/pay/WALLET/H5?sn=T202206121535943494396473344&orderType=TRADE&clientType=H5&nonce=bbgquX&timestamp=1655032708&sign=d917e565cdd98961a6e93561491ea3d0



1. orderType: TRADE
2. clientType: H5
3. sn:订单号 T202206121536005342339653632